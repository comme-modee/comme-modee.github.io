<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자연의신비</title>
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/subpage-common.css">
    <link rel="stylesheet" href="../../css/font.css">
    <link rel="stylesheet" href="../../ionicons/css/ionicons.min.css">
    <script type="text/javascript" src="../../js/jquery-3.7.0.min.js"></script>
    <script type="text/javascript" src="../../js/font-awesome.js"></script>

    <!-- gsap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/ScrollToPlugin.min.js"></script>
</head>
<body>
    <header>
        <div class="mo">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="mo-nav-wrap">
            <ul>
                <li>
                    <span>COMPANY
                        <span class="mo-plus-icon"></span>
                        <span class="mo-minus-icon"></span>
                    </span>
                    <ul class="mo-sub">
                        <li><a href="../company/company.html">자연의신비</a></li>
                        <li><a href="../company/ceo.html">CEO 인사말</a></li>
                        <li><a href="../company/history.html">연혁</a></li>
                        <li><a href="../company/ci.html">CI</a></li>
                    </ul>
                </li>
                <li>
                    <span>PRODUCT
                        <span class="mo-plus-icon"></span>
                        <span class="mo-minus-icon"></span>
                    </span>
                    <ul class="mo-sub">
                        <li><a href="../brand/drprevenue.html">아스타퓨어 루테인블루</a></li>
                        <li><a href="../brand/vitamin.html">퍼포먼스 비타민C</a></li>
                        <li><a href="../brand/mnb.html">카티동 에스포</a></li>
                    </ul>
                </li>
                <li>
                    <span>PR
                        <span class="mo-plus-icon"></span>
                        <span class="mo-minus-icon"></span>
                    </span>
                    <ul class="mo-sub">
                        <li><a href="../pr/media.html">언론보도</a></li>
                        <li><a href="../pr/video.html">홍보영상</a></li>
                    </ul>
                </li>
                <li>
                    <span>CONTACT
                        <span class="mo-plus-icon"></span>
                        <span class="mo-minus-icon"></span>
                    </span>
                    <ul class="mo-sub">
                        <li><a href="../contact/contact.html">오시는길</a></li>
                        <li><a href="../contact/inquiry.html">1:1문의</a></li>
                        <li><a href="../contact/faq.html">FAQ</a></li>
                    </ul>
                </li>
            </ul>
            <div class="mall"><a href="https://smartstore.naver.com/prevenew/" target="_blank"><span>자연의신비 공식몰</span></a></div>
        </div>
        <div class="dimd-bg-mo"></div>
        <div class="nav-wrap">
            <nav class="nav">
                <div class="logo" onclick="location.href='../main/index.html'"></div>
                <ul>
                    <li>회사소개</li>
                    <li>제품안내</li>
                    <li>기업소식</li>
                    <li>고객센터</li>
                </ul>
                <div class="mall"><a href="https://smartstore.naver.com/prevenew/" target="_blank"><span>자연의신비 공식몰</span></a></div>
            </nav>
            <nav class="hover-nav">
                <ul>
                    <li><a href="../company/company.html">자연의신비</a></li>
                    <li><a href="../company/ceo.html">CEO 인사말</a></li>
                    <li><a href="../company/history.html">연혁</a></li>
                    <li><a href="../company/ci.html">CI</a></li>
                </ul>
                <ul>
                    <li><a href="../brand/drprevenue.html">아스타퓨어 루테인블루</a></li>
                    <li><a href="../brand/vitamin.html">퍼포먼스 비타민C</a></li>
                    <li><a href="../brand/mnb.html">카티동 에스포</a></li>
                </ul>
                <ul>
                    <li><a href="../pr/media.html">언론보도</a></li>
                    <li><a href="../pr/video.html">홍보영상</a></li>
                </ul>
                <ul>
                    <li><a href="../contact/contact.html">오시는길</a></li>
                    <li><a href="../contact/inquiry.html">1:1문의</a></li>
                    <li><a href="../contact/faq.html">FAQ</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <div class="dimd-bg"></div>
    <section id="common-main">
        <div class="common-title">
            <p class="common-title-sub">INQUIRY</p>
            <p class="common-title-main">1:1 문의</p>
        </div>
        <div class="inquiry-header"></div>
        <div class="common-title-bottom">
            <p><a href="../contact/contact.html">오시는 길</a></p>
            <p class="i"><i class="fa-solid fa-circle fa-2xs"></i></p>
            <p class="current"><a href="../contact/inquiry.html">1:1 문의</a></p>
            <p class="i"><i class="fa-solid fa-circle fa-2xs"></i></p>
            <p><a href="../contact/faq.html">FAQ</a></p>
        </div>
    </section>
    <section id="common-content">
        <div class="inquiry-wrap">
            <span class="required"><span class="highlight-red">*</span> 는 필수항목 입니다.</span>
            <form action="inquiryfrm" method="post" enctype="multipart/form-data" id="inquiryfrm">
                <div class="type">
                    <p class="form-left"><label for="type">상담분류 <span class="highlight-red">*</span></label></p>
                    <div class="form-right">
                        <select id="type" name="type">
                            <option value="company">회사</option>
                            <option value="product">제품</option>
                            <option value="etc">기타</option>
                        </select>
                    </div>
                </div>
                <div class="username">
                    <p class="form-left"><label for="username">작성자 <span class="highlight-red">*</span></label></p>
                    <div class="form-right">
                        <input id="username" type="text" name="username">
                    </div>
                </div>
                <div class="gender">
                    <p class="form-left"><label for="gender">성별 <span class="highlight-red">*</span></label></p>
                    <div class="form-right">
                        <input id="gender" type="radio" name="gender" value="female" checked > 여성
                        <input id="gender" type="radio" name="gender" value="male"> 남성
                    </div>
                </div>
                <div class="email">
                    <p class="form-left"><label for="email_id">이메일 <span class="highlight-red">*</span></label></p>
                    <div class="form-right">
                        <input id="email_id" type="text" name="user_email_1">
                        @
                        <input id="email_domain" type="text" name="user_email_2" value="naver.com">
                        <select id="selectEmail" name="selectEmail">
                            <option value="naver.com" selected>naver.com</option>
                            <option value="daum.net">daum.net</option>
                            <option value="hotmail.com">hotmail.com</option>
                            <option value="gmail.com">gmail.com</option>
                            <option value="etc">직접 입력</option>
                        </select>
                    </div>
                </div>
                <div class="tel">
                    <p class="form-left"><label for="tel">전화번호 <span class="highlight-red">*</span></label></p>
                    <div class="form-right">
                        <input id="tel" type="tel" name="tel" placeholder="회신 받으실 연락처를 입력하십시오">
                        <span class="tel-ex">ex) 010-1234-5678</span>
                    </div>
                </div>
                <div class="title">
                    <p class="form-left"><label for="title">제목 <span class="highlight-red">*</span></label></p>
                    <div class="form-right">
                        <input id="title" type="text" name="title">
                    </div>
                </div>
                <div class="message">
                    <p class="form-left"><label for="message">내용 <span class="highlight-red">*</span></label></p>
                    <div class="form-right">
                        <textarea id="message" name="message" rows="4" cols="50"></textarea>
                    </div>
                </div>
                <div class="file">
                    <p class="file-title form-left">첨부파일</p>
                    <div class="form-right">
                        <div class="file-wrap">
                            <div class="file-list">
                                <input class="upload_name" value="첨부파일1" placeholder="첨부파일" readonly>
                                <label for="fileAdd1">파일찾기</label> 
                                <input type="file" id="fileAdd1" class="fileAdd" name="file1" onchange="uploadNameChange(this)">
                                <span class="plus"></span>
                                <span class="minus"></span>
                            </div>
                        </div>
                        <p>(2MB 이하, 최대 3개)</p>
                    </div>
                </div>
                <a id="submit" onclick="inquiry()">등록</a>
            </form>
        </div>
    </section>
    <footer>
        <div>
            <p>대표 : 김준현, 오근배 │ 주소 : 서울특별시 강서구 방화대로 <span class="number">291</span>, <span class="number">3</span>층</p>
            <p>사업자 등록번호 : <span class="number">711-88-02391</span><br>
                통신판매업 신고번호 : <span class="number">2022</span>-서울강서-<span class="number">2450</span><br>
                건강기능식품판매업 신고번호 : 제 <span class="number">2023-0101351</span>호</p>
            <p>고객센터 : <span class="number">1533-1765</span></p>
        </div>                
    </footer>
    <script src="../../js/header.js" type="text/javascript"></script>
    <script>
        navWrap.classList.add("headerDarkText");
        header.classList.add("headerWhiteBg");    
        mobileNav.classList.add("moDark")  
    
        let userName = document.getElementById("username");
        let email_id = document.getElementById("email_id");
        let email_domain = document.getElementById("email_domain");
        let tel = document.getElementById("tel");
        let title = document.getElementById("title");
        let message = document.getElementById("message");
        let selectEmail = document.querySelector("select[name=selectEmail]");
    
        //이메일
        email_domain.readOnly = true;
        selectEmail.addEventListener("change", function() {
            if ( this.value === "etc" ) {
                email_domain.value = '';
                email_domain.readOnly = false;
            } else {
                email_domain.value = this.value;
                email_domain.readOnly = true;
            }
        });
    
        //첨부파일 추가
        let fileWrap = document.querySelector(".file-wrap");
        let fileList = document.querySelector(".file-list");
        
        let filePlus = document.querySelector(".plus");
        let fileMinus = document.querySelector(".minus");
        
        filePlus.style.cursor = "pointer";
        
        const maxFileCount = 3;
    
        filePlus.addEventListener("click", () => {
            fileMinus.style.cursor = "pointer";
            let fileListAll = document.querySelectorAll(".file-wrap .file-list");
            if (fileListAll.length < maxFileCount) {
                let fileNum = fileListAll.length + 1;
                let newFile = document.createElement("div");
                newFile.classList.add("file-list");
                newFile.innerHTML = `
                                <input class="upload_name" value="첨부파일${fileNum}" placeholder="첨부파일" readonly>
                                <label for="fileAdd${fileNum}">파일찾기</label> 
                                <input type="file" id="fileAdd${fileNum}" name="file${fileNum}" class="fileAdd" onchange="uploadNameChange(this)">
                `;
                fileWrap.appendChild(newFile);
            } 
            if (fileListAll.length == 2) {
                filePlus.style.cursor = "default";
            }
        });
    
        function uploadNameChange(element){
    
            var fileSize = element.files[0].size;
            var maxSize = 2 * 1024 * 1024; 
    
            if (fileSize > maxSize) {
                alert("파일 크기가 2MB를 초과합니다. 다른 파일을 선택해 주세요.");
                element.value = '';
                return;
            }
    
    
            let parentElement = element.parentNode;
            let uploadName = parentElement.childNodes[1];
            
            uploadName.value = element.value;
        }
    
    
        fileMinus.addEventListener("click", () => {
            filePlus.style.cursor = "pointer";
            let fileListAll = document.querySelectorAll(".file-wrap .file-list");
            if (fileListAll.length > 0) {
                let lastFile = fileListAll[fileListAll.length - 1];
                fileWrap.removeChild(lastFile);
            }
            if (fileListAll.length == 2) {
                fileMinus.style.cursor = "default";
            }
        });
    
    
        //inquiry form
        function inquiry() {
            
    
            if( userName.value == "" ) {
                userName.focus();
                return;
            } 
    
            if( email_id.value == "" ) {
                email_id.focus();
                return;
            } 
    
            if( email_domain.value == "" ) {
                email_domain.focus();
                return;
            }
    
            let email_rule =  /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;
            let email = '';
    
            email = email_id.value + "@" + email_domain.value;
    
            if ( !email_rule.test(email) ) {
                alert("이메일을 형식에 맞게 입력해주세요.");
                return false;
            }
    
            if( tel.value == "" ) {
                tel.focus();
                return;
            }
            
            let regPhone = /^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/;
    
            if( !regPhone.test(tel.value) ) {
                alert("전화번호를 형식에 맞게 입력해주세요.");
                return false;
            }
    
            if( title.value == "" ) {
                title.focus();
                return;
            }
    
            if( message.value == "" ) {
                message.focus();
                return;
            }
            document.getElementById("email_id").value = email;
            alert("문의가 등록되었습니다.");
            location.reload()
        }
        
    
    </script>
</body>
</html>